### Java 직렬화

- 자바 시스템 내부에서 사용되는 **객체 또는 데이터**를 **외부의 자바 시스템에서도 사용할** 수 있도록 **바이트 형태로 데이터 변환**하는 기술 ( Java 시스템 간의 데이터 교환이 필요할 때 사용)
- JVM의 메모리에 상주(힙 or 스택)되어 있는 **객체 데이터를 바이트 형태로 변환**하는 기술
- Serializable 인터페이스를 구현

표형태로 직렬화 할때  CSV, 구조적인 데이터로 직렬화 JSON, XML 등 다양한 포맷으로 직렬화
XML보단 JSON 사용

### Java 역직렬화

- 바이트로 변환된 데이터를 다시 객체로 변환하는 기술
- 직렬화된 바이트 형태의 데이터를 객체로 변환해서 JVM으로 상주시킴
- 직렬화 대상이 된 객체의 클래스가 class path에 존재 import되어야 함!
(* JVM이 프로그램을 실행할 때, class 파일을 찾는 데 기준이 되는 파일 경로)
- 대상은 동일한 serialVersionID를 가지고 있어야함

### 직렬화 장점

- 자바 시스템에서 개발에 최적화
- 복잡한 데이터 구조의 클래스의 객체라도 직렬화 기본 조건만 지키면 큰 작업 없이 바로 직렬화, 역직렬화가 가능
- **데이터 타입이 자동으로 맞춰**지기 때문 **역직렬화가 되면 기존 객체**처럼 바로 **사용** 가능
- JVM에만 상주되어 있어 객체 데이터를 그대로 영속화가 필요할 때 사용되며, 시스템이 종료되도 없어지지 않고, 네트워크로 전송도 가능

### 직렬화 단점

- 역직렬화 시, 클래스 구조 변경 문제
- 너무 엄격한 타입 체크
(객체의 변수 명은 같은데 객체의 변수 타입이 달라지면 타입 예외가 발생한다.
예를 들어 데이터의 객체의 변수 타입이 String인데, 추후 개발하면서 StringBuilder로 바꿨다면 역직렬화 불가능)
- 용량 문제
아주 간단한 객체의 내용도 2배 이상의 용량 차이가 발생
Cache에서는 Data를 저장할 수 있는 용량의 한계가 있으므로 Json형태와 같은 경량화된 형태로 직렬화

→ 외부 저장소로 저장되는 데이터는 짧은 만료시간이 아니면 자바 직렬화 사용 지양

→ 역직렬화 시 반드시 예외가 생길 수 있다는 점 고려

→ 자주 변경되는 비즈니스적인 데이터에 대해 자바 직렬화 사용 지양

→ 긴 만료 시간을 갖는 데이터는 JSON 등 다른 포맷을 사용하여 저장

조건 → 기본 타입과 java.io.Serializable 인터페이스 상속 받아야함!

### 사용되는 곳

1. **서블릿 세션** </br>
세션을 서블릿 메모리 위에서 운용 → 직렬화 필요 x
파일로 저장 또는 세션 클러스터링, DB를 저장하는 옵션 등을 선택하게 되면 세션 자체가 직렬화가 되어 전달 
—>세션에 필요한 객체는 Serializable 인터페이스 구현
2. **캐시** </br>
Encache, Redis, memcached 등의 라이브러리 시스템에서 캐시 할 부분을 자바 직렬화된 데이터를 저장해서 사용 (가장 간편해서 많이 사용됨)
3. **자바 RMI** </br>
원격 시스템간의 메시지 교환을 위해서 사용하는 자바에서 지원하는 기술
메소드 호출 시에 전달하는 메시리를 자동으로 직렬화하고.
