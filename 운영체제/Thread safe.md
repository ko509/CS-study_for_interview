<h1>Thread safe란</h1>


+ 멀티 스레드 프로그래밍에서 일반적으로 어떤 함수나 변수, 객체가 여러 스레드로부터 동시에 접근이 이루어져도 
  프로그램의 실행에 문제가 없음을 뜻함
+ 엄밀하게 말해, 하나의 함수가 한 스레드로부터 호출되어 실행 중 일때, 다른 스레드가 그 함수를 호출하여 동시에 함께
  실행되더라도, 각 스레드에서의 함수의 수행 결과가 올바르게 나오는 것을 뜻함
  
  
* *  *   
<h3> Thread safe를 지키기 위한 방법</h3>

1. **Re - entrancy**
+ 어떤 함수가 한 스레드에 의해 호출되어 실행중일 때, 다른 스레드가 그 함수를 호출하더라도 그 결과가 각각 올바르게 주어져야 함


2. **Thread-local-storage**
+ 공유 자원의 사용을 최대한 줄여 각각의 스레드에서만 접근 가능한 저장소를 사용함으로써 동시 접근을 막음
+ 이 방식은 동기화 방법과 관련되어 있으며, 공유 상태를 피할 수 없을 때 사용하는 방식
+ 스레드끼리 공유하는 **힙, 데이터 영역의 자원 접근은 최소화하고, 독립적으로 가지는 스택 영역의 자원을 사용하도록 설계하라**는 의미
+ 예를 들어, 멀티 스레드 환경에서 전역 변수의 사용을 지양하라는 의미


3. **Mutual exclusion**
+ 공유 자원을 꼭 사용해야 하는 경우 해당 자원의 접근을 뮤텍스나 세마포어의 락으로 통제
+ 동기화 객체로, python의 threading.Lock이나 java의 synchronized를 사용
+ 따라서, 어떤 한 순간에 하나의 스레드만이 임계영역(critical section) 안에서 사용하는 것이 보장됨

4. **Immutable objects**
+ 공유 자원을 사용한다면, 불변 객체를 사용하라는 의미
+ 불변 객체는 변하지 않는 읽기 전용으로, 여러 스레드가 동시에 접근하더라도 스레드 안정성이 보장됨
+ java에서 대표적인 immutable 객체로는 String 객체가 있음
+ 만약 변경 가능한 객체를 사용한다면, 공유 객체를 그대로 가져와서 사용하지 말고, 새로운 객체를 생성 후 공유 자원
  객체의 값을 복사하여 사용하는 것이 좋음
  
5. **Atomic operations**
+ 공유 자원에 접근할 때 원자 연산을 사용하거나 '원자적'으로 정의된 접근 방법을 사용함으로써 상호 배제를 구현할 수 있음 

**통상적으로, mutual exclusion(상호 배제)를 통한, critical section 처리가 자주 사용되는 편임!**<br />
**상호 배제란, 한 thread가 자원에 접근할 때, 다른 thread의 접근을 막는 것을 말함**
