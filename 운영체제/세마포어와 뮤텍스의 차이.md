<h1> 세마포어와 뮤텍스의 차이 </h1>

프로세스 간 메시지를 전송하거나, 공유 메모리를 통해 공유된 자원에 여러 개의 프로세스가 접근하면 문제가 발생할 수 있다. <br />

이를 해결하기 위해, 데이터를 한 번에 하나의 프로세스만 접근하도록 제한을 두는 동기화를 취해야 한다. <br />

동기화 도구에는 대표적으로 **세마포어(Semaphore)** 와 **뮤텍스**가 있다. <br />

이들은 모두 공유된 자원의 데이터를 여러 스레드/프로세스가 접근하는 것을 막는 역할을 한다.


<h1> 뮤텍스(Mutext) </h1>

- 공유된 자원의 데이터 혹은 임계영역(Critical Section) 등에 하나의 프로세스 혹은 Thread만 접근하도록 함( **동기화 대상이 하나**)

- 임계영역(Critical Section)을 가진 스레드들의 실행 시간(Running Time)이 서로 겹치지 않고, 각각 단독으로 실행되도록 하는 기술

- 한 프로세스에 의해 소유될 수 있는 Key를 기반으로 한 상호배제 기법으로, key를 소유한 스레드/프로세스만이 공유자원에 접근할 수 있음

- 공유 리소스에 대한 접근을 조율하기 위해 동기화(Synchronize) 또는 락(Lock)을 사용함으로써 뮤텍스 객체를 두 개 이상의 프로세스/스레드가 동시에 사용할 수 없음

* * *

<h1> 세마포어(Semaphore) </h1>

- 공유된 자원의 데이터 혹은 임계영역에 여러 프로세스 혹은 스레드가 접근하는 것을 막아줌 (동기화 대상이 여러 개)

- 사용하고 있는 스레드/프로세스의 수를 공통으로 관리하는 하나의 값을 이용하여 상호배제를 달성
 
- 공유 자원에 접근할 수 있는 최대 허용치만큼 동시에 프로세스/스레드가 접근할 수 있음

- 자언을 사용하지 않는 상태가 될 때, 대기하던 프로세스/스레드가 즉시 자원을 사용하고, 이미 다른 프로세스/스레드에 의해 사용중이라는 사실을 알게 되면, 재시도 전에 일정 시간 대기해야 함

- 일반적으로, 비교적 긴 시간을 확보하는 리소스에 대해 사용하게 됨


<h1> 뮤텍스와 세마포어의 차이 </h1>

1. 동기화 대상의 개수

- 뮤텍스와 세마포어의 목적은 특정 동기화 대상이 이미 특정 스레드에 의해 사용중일 경우 다른 스레드가 해당 동기화 대상에 접근하는 것을 제한

- 뮤텍스는 동기화 대상이 오직 1개, 세마포어는 동기화 대상이 1개 이상일 떄 사용


2. 자원 소유

 - 뮤텍스는 자원을 소유할 수 있지만, 세마포어는 자원 소유 불가

 - 뮤텍스는 상태가 0, 1 뿐 이므로, Lock을 가질 수 있음


3. 해제 기능

  - 소유하고 있는 스레드만이 이 뮤텍스를 해제할 수 있음
  
  - 반면, 세마포어는 세마포어를 소유하지 않는 스레드가 세마포어를 해제할 수 있음

4. 생존 기간

  - 세마 포어는 시스템 범위에 걸쳐 있고, 파일 시스템 상의 파일로 존재하지만, 뮤텍스는 프로세스의 범위를 가지며, 프로세스가 종료될 때 자동으로 Clean up됨


<h3> 뮤텍스와 세마포어 만으로 동기화 문제를 모두 해결할 수 있는 것은 아니다!! </h3>


- 뮤텍스와 세마포어 모두 데이터의 무결성을 보장할 수 없기에 모든 교착상태를 해결하지 못함

- 따라서, 더 복잡한 매커니즘을 적용해 개선된 성능을 가질 수 있도록 하는 것이 중요함





